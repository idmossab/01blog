<div class="list-group-item blog-card" (click)="onOpen()">
  <div class="blog-main" [class.with-thumb]="hasRenderableThumbnail()" [class.without-thumb]="!hasRenderableThumbnail()">
    <div class="blog-text">
      <div class="blog-meta-row">
        <span class="blog-author-avatar">{{ getAuthorInitials() }}</span>
        <span class="blog-author">{{ authorName }}</span>
        <span class="dot">•</span>
        <span>{{ dateLabel }}</span>
      </div>
      <div class="blog-title">{{ blog.title }}</div>
      <div class="blog-excerpt">{{ blog.content }}</div>
      <div class="blog-actions" *ngIf="showEngagementActions || showOwnerActions">
        <button class="action-btn" *ngIf="showEngagementActions" type="button" (click)="onLike($event)" [class.liked]="liked">
          Like ({{ likeCount }})
        </button>
        <button class="action-btn" *ngIf="showEngagementActions" type="button" (click)="onComment($event)">
          Comments ({{ commentCount }})
        </button>
        <button class="action-btn owner-edit-btn" *ngIf="showOwnerActions" type="button" (click)="onEdit($event)">
          Edit
        </button>
        <button class="action-btn owner-delete-btn" *ngIf="showOwnerActions" type="button" (click)="onDelete($event)">
          Delete
        </button>
      </div>
    </div>
    <div class="blog-thumb" *ngIf="hasRenderableThumbnail() && thumbnail as thumb">
      <img *ngIf="thumb.mediaType?.startsWith('image')" [src]="thumb.url" alt="thumbnail" />
      <div class="video-thumb" *ngIf="thumb.mediaType?.startsWith('video')">
        <video [src]="thumb.url" muted playsinline></video>
        <div class="play-badge">▶</div>
      </div>
    </div>
  </div>
</div>
